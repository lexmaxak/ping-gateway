# ping-gateway
Pinging devices outside the NAT

Сервис мониторинга активности

# Описание
Сервис представляет собой простой механизм мониторинга активности системы с поддержкой множественных UUID.

Разместите файлы сервиса на сервере

# API эндпоинты
/ping/{UUID}
Метод: GET

# Описание:
Обработчик проверки активности системы. При успешном запросе записывает время последнего пинга в файл.

# Параметры:

UUID - уникальный идентификатор системы

Ответы:

200 OK - успешный ответ
400 Bad Request - неверный формат UUID
404 Not Found - UUID не найден
500 Internal Server Error - ошибка записи в файл

/check/{UUID}
Метод: GET

# Описание:
Проверка статуса активности системы по UUID.

#Параметры:

UUID - уникальный идентификатор системы

Ответы:
200 OK - сервис активен
500 Internal Server Error - сервис неактивен более минуты
400 Bad Request - неверный формат UUID
404 Not Found - UUID не найден

# Структура данных
Данные хранятся в формате JSON в файле base/base.txt:

{
    "uuids": {
        "UUID1": {
            "time": 1686723456
        },
        "UUID2": {
            "time": 1686723456
        }
    }
}

# Обработка ошибок
Все ошибки обрабатываются с возвратом соответствующего HTTP кода

При критических ошибках записывается сообщение об ошибке

Проверяется существование директорий и файлов

Требования
PHP >= 7.4

Доступ к файловой системе для записи

Включенный модуль mod_rewrite для Apache

Рекомендации по использованию
Размещайте сервис в защищенной директории

Настройте права доступа к файлам и директориям

Регулярно проверяйте размер файла с данными

Используйте валидные UUID для идентификации систем

Примеры использования
# Проверка активности
curl http://example.com/test/ping/UUID123

# Проверка статуса
curl http://example.com/test/check/UUID123
